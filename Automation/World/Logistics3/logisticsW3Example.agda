open import logisticsW3
open import Plans.Semantics logisticsW3Domain
open import Plans.PlanW logisticsW3Domain
open import Data.List
open import Data.Product renaming (_,_ to _↝_)
open import Relation.Nullary.Decidable

module logisticsW3Example where

P : World
P = (package obj11) ∷ (package obj12) ∷ (package obj13) ∷ (package obj21) ∷ (package obj22) ∷ (package obj23) ∷ (package obj31) ∷ (package obj32) ∷ (package obj33) ∷ (package obj41) ∷ (package obj42) ∷ (package obj43) ∷ (truck tru1) ∷ (truck tru2) ∷ (truck tru3) ∷ (truck tru4) ∷ (city cit1) ∷ (city cit2) ∷ (city cit3) ∷ (city cit4) ∷ (location pos1) ∷ (location apt1) ∷ (location pos2) ∷ (location apt2) ∷ (location pos3) ∷ (location apt3) ∷ (location pos4) ∷ (location apt4) ∷ (airport apt1) ∷ (airport apt2) ∷ (airport apt3) ∷ (airport apt4) ∷ (airplane apn1) ∷ (at apn1 apt3) ∷ (at tru1 pos1) ∷ (at obj11 pos1) ∷ (at obj12 pos1) ∷ (at obj13 pos1) ∷ (at tru2 pos2) ∷ (at obj21 pos2) ∷ (at obj22 pos2) ∷ (at obj23 pos2) ∷ (at tru3 pos3) ∷ (at obj31 pos3) ∷ (at obj32 pos3) ∷ (at obj33 pos3) ∷ (at tru4 pos4) ∷ (at obj41 pos4) ∷ (at obj42 pos4) ∷ (at obj43 pos4) ∷ (in-city pos1 cit1) ∷ (in-city apt1 cit1) ∷ (in-city pos2 cit2) ∷ (in-city apt2 cit2) ∷ (in-city pos3 cit3) ∷ (in-city apt3 cit3) ∷ (in-city pos4 cit4) ∷ (in-city apt4 cit4) ∷ []

Q : State
Q = (+ ↝ (at obj33 apt1)) ∷ (+ ↝ (at obj22 apt2)) ∷ (+ ↝ (at obj43 pos4)) ∷ (+ ↝ (at obj11 pos1)) ∷ (+ ↝ (at obj23 pos1)) ∷ (+ ↝ (at obj31 pos1)) ∷ (+ ↝ (at obj12 apt2)) ∷ (+ ↝ (at obj13 pos4)) ∷ (+ ↝ (at obj42 apt2)) ∷ (+ ↝ (at obj21 pos4)) ∷ (+ ↝ (at obj41 pos4)) ∷ []

plan : Plan
plan = fly-airplane apn1 apt3 apt1 ∷ fly-airplane apn1 apt1 apt2 ∷ fly-airplane apn1 apt2 apt4 ∷ drive-truck tru4 pos4 apt4 cit4 ∷ drive-truck tru3 pos3 apt3 cit3 ∷ load-truck obj23 tru2 pos2 ∷ load-truck obj22 tru2 pos2 ∷ drive-truck tru2 pos2 apt2 cit2 ∷ unload-truck obj22 tru2 apt2 ∷ fly-airplane apn1 apt4 apt1 ∷ fly-airplane apn1 apt1 apt2 ∷ fly-airplane apn1 apt2 apt3 ∷ load-truck obj13 tru1 pos1 ∷ drive-truck tru1 pos1 apt1 cit1 ∷ unload-truck obj13 tru1 apt1 ∷ drive-truck tru2 apt2 pos2 cit2 ∷ load-truck obj21 tru2 pos2 ∷ drive-truck tru3 apt3 pos3 cit3 ∷ load-truck obj33 tru3 pos3 ∷ load-truck obj31 tru3 pos3 ∷ drive-truck tru4 apt4 pos4 cit4 ∷ load-truck obj42 tru4 pos4 ∷ drive-truck tru3 pos3 apt3 cit3 ∷ unload-truck obj31 tru3 apt3 ∷ load-airplane obj31 apn1 apt3 ∷ unload-truck obj33 tru3 apt3 ∷ load-airplane obj33 apn1 apt3 ∷ drive-truck tru4 pos4 apt4 cit4 ∷ unload-truck obj42 tru4 apt4 ∷ fly-airplane apn1 apt3 apt1 ∷ unload-airplane obj33 apn1 apt1 ∷ unload-airplane obj31 apn1 apt1 ∷ fly-airplane apn1 apt1 apt2 ∷ fly-airplane apn1 apt2 apt4 ∷ load-airplane obj42 apn1 apt4 ∷ drive-truck tru2 pos2 apt2 cit2 ∷ load-truck obj31 tru1 apt1 ∷ drive-truck tru1 apt1 pos1 cit1 ∷ unload-truck obj31 tru1 pos1 ∷ fly-airplane apn1 apt4 apt2 ∷ unload-airplane obj42 apn1 apt2 ∷ fly-airplane apn1 apt2 apt1 ∷ load-airplane obj13 apn1 apt1 ∷ fly-airplane apn1 apt1 apt4 ∷ unload-airplane obj13 apn1 apt4 ∷ drive-truck tru1 pos1 apt1 cit1 ∷ unload-truck obj21 tru2 apt2 ∷ load-truck obj13 tru4 apt4 ∷ drive-truck tru4 apt4 pos4 cit4 ∷ unload-truck obj13 tru4 pos4 ∷ fly-airplane apn1 apt4 apt1 ∷ fly-airplane apn1 apt1 apt2 ∷ load-airplane obj21 apn1 apt2 ∷ drive-truck tru4 pos4 apt4 cit4 ∷ drive-truck tru1 apt1 pos1 cit1 ∷ fly-airplane apn1 apt2 apt4 ∷ unload-airplane obj21 apn1 apt4 ∷ load-truck obj12 tru1 pos1 ∷ unload-truck obj23 tru2 apt2 ∷ load-truck obj21 tru4 apt4 ∷ drive-truck tru4 apt4 pos4 cit4 ∷ unload-truck obj21 tru4 pos4 ∷ fly-airplane apn1 apt4 apt1 ∷ drive-truck tru1 pos1 apt1 cit1 ∷ unload-truck obj12 tru1 apt1 ∷ load-airplane obj12 apn1 apt1 ∷ fly-airplane apn1 apt1 apt2 ∷ unload-airplane obj12 apn1 apt2 ∷ load-airplane obj23 apn1 apt2 ∷ fly-airplane apn1 apt2 apt1 ∷ unload-airplane obj23 apn1 apt1 ∷ load-truck obj23 tru1 apt1 ∷ drive-truck tru1 apt1 pos1 cit1 ∷ unload-truck obj23 tru1 pos1 ∷ halt

Derivation : Γ ⊢ plan ∶ P ↝ Q 
Derivation = from-yes (solver Γ plan P Q)
